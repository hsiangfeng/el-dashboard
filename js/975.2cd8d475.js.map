{"version":3,"file":"js/975.2cd8d475.js","mappings":"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","sources":["webpack://el-dashboard/./src/views/UsersView.vue","webpack://el-dashboard/./src/views/UsersView.vue?66ab"],"sourcesContent":["<template>\n  <h2>產品列表</h2>\n  <ElRow :gutter=\"30\" v-loading=\"loadingStatus.products\">\n    <ElCol :md=\"6\" v-for=\"item in products\" :key=\"item.id\">\n      <ElCard class=\"mb-1\" :body-style=\"{ padding: '0px' }\">\n        <ElImage :src=\"item.imageUrl\" />\n        <div style=\"padding: 14px\">\n          <h3>{{ item.title }}</h3>\n          <div class=\"bottom\">\n            <div>\n              <del v-if=\"item.origin_price\">\n                原價 {{ item.origin_price }} 元\n              </del>\n              <div v-if=\"item.price\">\n                現在只要 {{ item.price }} 元\n              </div>\n            </div>\n            <ElButton type=\"primary\" plain @click=\"addToCart(item.id, 1)\">\n              加入購物車\n            </ElButton>\n          </div>\n        </div>\n      </ElCard>\n    </ElCol>\n  </ElRow>\n\n  <ElRow justify=\"center\">\n    <ElCol :md=\"12\">\n      <h3>購物車</h3>\n      <div class=\"text-end\">\n        <ElButton type=\"danger\" plain @click=\"removeAllCart\">\n          清空購物車\n        </ElButton>\n      </div>\n      <ElTable\n        :data=\"carts.carts\"\n        :summary-method=\"getSummary\"\n        :show-summary=\"true\"\n        sum-text=\"總計\"\n        v-loading=\"loadingStatus.carts\"\n      >\n        <ElTableColumn prop=\"product.title\" label=\"品名\">\n          <template #default=\"scope\">\n            <span v-if=\"scope.row.coupon\">\n              {{ scope.row.product.title }} <ElTag type=\"success\">已套用優惠</ElTag>\n            </span>\n            <span v-else>\n              {{ scope.row.product.title }}\n            </span>\n          </template>\n        </ElTableColumn>\n        <ElTableColumn width=\"100\" prop=\"qty\" label=\"數量\" />\n        <ElTableColumn prop=\"final_total\" label=\"單價\">\n          <template #default=\"scope\">\n            <span v-if=\"scope.row.coupon\">\n              {{ $filters.currency(scope.row.final_total) }} (原價：{{ $filters.currency(scope.row.total) }})\n            </span>\n            <span v-else>\n              {{ $filters.currency(scope.row.final_total) }}\n            </span>\n          </template>\n        </ElTableColumn>\n        <ElTableColumn width=\"100\" label=\"功能\">\n          <template #default=\"scope\">\n            <ElButton link type=\"danger\" plain @click=\"removeCart(scope.row.id)\">\n              移除\n            </ElButton>\n          </template>\n        </ElTableColumn>\n      </ElTable>\n\n      <ElForm @submit.prevent=\"addCouponCode\" class=\"el-coupon\" :inline=\"true\">\n        <ElFormItem label=\"套用優惠券\">\n          <ElInput v-model=\"coupon_code\" placeholder=\"請輸入優惠卷\" />\n        </ElFormItem>\n        <ElFormItem>\n          <ElButton :native-type=\"'submit'\">\n            送出\n          </ElButton>\n        </ElFormItem>\n      </ElForm>\n\n      <h3>送出訂單</h3>\n      <ElForm ref=\"form\" :model=\"form.user\" :rules=\"rules\" @submit.prevent=\"createOrder\" :label-position=\"'top'\" v-loading=\"loadingStatus.orders\">\n        <ElFormItem prop=\"email\" label=\"Email\">\n          <ElInput type=\"email\" v-model=\"form.user.email\" placeholder=\"請輸入 Email\" />\n        </ElFormItem>\n        <ElFormItem prop=\"name\" label=\"姓名\">\n          <ElInput type=\"text\" v-model=\"form.user.name\" placeholder=\"請輸入姓名\" />\n        </ElFormItem>\n        <ElFormItem prop=\"tel\" label=\"收件人電話\">\n          <ElInput type=\"tel\" v-model=\"form.user.tel\" placeholder=\"請輸入收件人電話\" />\n        </ElFormItem>\n        <ElFormItem prop=\"address\" label=\"收件人地址\">\n          <ElInput type=\"address\" v-model=\"form.user.address\" placeholder=\"請輸入收件人地址\" />\n        </ElFormItem>\n        <div class=\"text-end\">\n          <ElButton type=\"info\" plain>取消</ElButton>\n          <ElButton :native-type=\"'submit'\" type=\"primary\" plain>送出</ElButton>\n        </div>\n      </ElForm>\n    </ElCol>\n  </ElRow>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loadingStatus: {\n        products: false,\n        carts: false,\n        orders: false,\n      },\n      rules: {\n        email: [\n          {\n            required: true,\n            message: '請輸入你的 Email',\n            trigger: 'blur',\n          },\n          {\n            type: 'email',\n            message: 'Email 格式有誤',\n            trigger: 'blur',\n          },\n        ],\n        name: [\n          {\n            required: true,\n            message: '請輸入你的名字',\n            trigger: 'blur',\n          },\n          {\n            min: 2,\n            max: 6,\n            message: '最小 2 個字，最大 6 個字',\n            trigger: 'blur',\n          },\n        ],\n        tel: [\n          {\n            required: true,\n            message: '請輸入你的聯絡電話',\n            trigger: 'blur',\n          },\n          {\n            min: 8,\n            max: 10,\n            message: '最短 8 碼 最長 10 碼',\n            trigger: 'blur',\n          },\n        ],\n        address: [\n          {\n            required: true,\n            message: '請輸入你的地址',\n            trigger: 'blur',\n          },\n          {\n            min: 4,\n            message: '最短四個字',\n            trigger: 'blur',\n          },\n        ],\n      },\n      products: [],\n      carts: [],\n      form: {\n        user: {},\n      },\n      coupon_code: '',\n    };\n  },\n  methods: {\n    getProducts() {\n      this.loadingStatus.products = true;\n      const url = `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/products`;\n      this.$http.get(url)\n        .then((response) => {\n          this.products = response.data.products;\n          this.loadingStatus.products = false;\n        })\n        .catch((error) => {\n          this.loadingStatus.products = false;\n          this.$notify({\n            title: '錯誤訊息',\n            message: error.response.data.message,\n            type: 'error',\n          });\n        });\n    },\n    addToCart(id, qty) {\n      this.loadingStatus.products = true;\n      const url = `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty,\n      };\n      this.$http.post(url, { data: cart })\n        .then(() => {\n          this.loadingStatus.products = false;\n          this.$notify({\n            title: '購物車',\n            message: '加入購物車成功',\n            type: 'success',\n          });\n          this.getCart();\n        })\n        .catch((error) => {\n          this.loadingStatus.products = false;\n          this.$notify({\n            title: '錯誤訊息',\n            message: error.response.data.message,\n            type: 'error',\n          });\n        });\n    },\n    getCart() {\n      this.loadingStatus.carts = true;\n      const url = `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/cart`;\n      this.$http.get(url)\n        .then((response) => {\n          this.carts = response.data.data;\n          this.loadingStatus.carts = false;\n        })\n        .catch((error) => {\n          this.loadingStatus.carts = false;\n          this.$notify({\n            title: '錯誤訊息',\n            message: error.response.data.message,\n            type: 'error',\n          });\n        });\n    },\n    removeAllCart() {\n      const url = `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/carts`;\n      this.loadingStatus.carts = true;\n      this.$http.delete(url)\n        .then(() => {\n          this.loadingStatus.carts = false;\n          this.$notify({\n            title: '購物車',\n            message: '購物車已清空',\n            type: 'error',\n          });\n          this.getCart();\n        })\n        .catch((error) => {\n          this.loadingStatus.carts = false;\n          this.$notify({\n            title: '錯誤訊息',\n            message: error.response.data.message,\n            type: 'error',\n          });\n        });\n    },\n    removeCart(id) {\n      this.loadingStatus.carts = true;\n      const url = `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/cart/${id}`;\n      this.isLoading = true;\n      this.$http.delete(url)\n        .then(() => {\n          this.loadingStatus.carts = false;\n          this.$notify({\n            title: '購物車',\n            message: '商品已移除',\n            type: 'success',\n          });\n          this.getCart();\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$notify({\n            title: '錯誤訊息',\n            message: error.response.data.message,\n            type: 'error',\n          });\n        });\n    },\n    createOrder() {\n      this.loadingStatus.orders = true;\n      const url = `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/order`;\n      this.$http.post(url, { data: this.form })\n        .then((res) => {\n          this.loadingStatus.orders = false;\n          this.$refs.form.resetFields();\n          this.$notify({\n            title: '建立訂單',\n            message: '訂單已建立，五秒後將會跳至付款頁面。',\n            type: 'success',\n          });\n          window.setTimeout(() => {\n            this.$router.push(`/admin/user-checkout/${res.data.orderId}`);\n          }, 5000);\n        })\n        .catch((error) => {\n          this.loadingStatus.orders = false;\n          this.$notify({\n            title: '錯誤訊息',\n            message: error.response.data.message,\n            type: 'error',\n          });\n        });\n    },\n    addCouponCode() {\n      this.loadingStatus.coupon = true;\n      const url = `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/coupon`;\n      const coupon = {\n        code: this.coupon_code,\n      };\n      this.$http.post(url, { data: coupon })\n        .then(() => {\n          this.loadingStatus.coupon = false;\n          this.$notify({\n            title: '優惠券',\n            message: '優惠券已使用',\n            type: 'success',\n          });\n          this.getCart();\n        })\n        .catch((error) => {\n          this.loadingStatus.coupon = false;\n          this.$notify({\n            title: '錯誤訊息',\n            message: error.response.data.message,\n            type: 'error',\n          });\n        });\n    },\n    getSummary({ columns, data }) {\n      const sums = [];\n      // Element Plus 官方的範例程式碼\n      // https://element-plus.org/zh-CN/component/table.html#%E8%A1%A8%E5%B0%BE%E5%90%88%E8%AE%A1%E8%A1%8C\n      columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = '總計';\n          return;\n        }\n        const values = data.map((item) => Number(item[column.property]));\n        if (!values.every((value) => Number.isNaN(value))) {\n          const total = values.reduce((previousValue, currentValue) => previousValue + currentValue);\n          sums[index] = this.$filters.currency(total);\n        }\n      });\n      return sums;\n    },\n  },\n  mounted() {\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n\n<style scoped>\n.bottom {\n  display: flex;\n  justify-content: space-between;\n}\n\n.mb-1 {\n  margin-bottom: 1rem;\n}\n\n.text-end {\n  text-align: right;\n}\n\n.el-coupon {\n  display: flex;\n  justify-content: end;\n  margin-top: 2rem;\n}\n\n.el-coupon > .ElFormItem {\n  margin-bottom: 0px;\n}\n\n.el-coupon > .ElFormItem:last-child {\n  margin-right: 0px;\n}\n</style>\n","import { render } from \"./UsersView.vue?vue&type=template&id=53adf587&scoped=true\"\nimport script from \"./UsersView.vue?vue&type=script&lang=js\"\nexport * from \"./UsersView.vue?vue&type=script&lang=js\"\n\nimport \"./UsersView.vue?vue&type=style&index=0&id=53adf587&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/rayxu/el-dashboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-53adf587\"]])\n\nexport default __exports__"],"names":["_createElementVNode","style","class","_hoisted_1","_createBlock","_component_ElRow","gutter","_createElementBlock","_Fragment","_renderList","$data","item","_component_ElCol","md","key","id","_createVNode","_component_ElCard","padding","_component_ElImage","src","imageUrl","_toDisplayString","title","origin_price","_hoisted_4","price","_hoisted_5","_component_ElButton","type","plain","onClick","$options","products","justify","_hoisted_7","_component_ElTable","data","carts","_component_ElTableColumn","prop","label","default","scope","row","coupon","_hoisted_10","product","_component_ElTag","_hoisted_12","width","_hoisted_13","_ctx","currency","final_total","total","_hoisted_14","link","_component_ElForm","onSubmit","inline","_component_ElFormItem","_component_ElInput","$event","placeholder","_hoisted_17","ref","model","user","rules","email","name","tel","address","orders","loadingStatus","required","message","trigger","min","max","form","coupon_code","methods","getProducts","this","url","$http","get","then","response","catch","error","$notify","addToCart","qty","cart","product_id","post","getCart","removeAllCart","delete","removeCart","isLoading","createOrder","res","$refs","resetFields","window","setTimeout","$router","push","orderId","addCouponCode","code","getSummary","columns","sums","forEach","column","index","values","map","Number","property","every","value","isNaN","reduce","previousValue","currentValue","$filters","mounted","__exports__","render"],"sourceRoot":""}