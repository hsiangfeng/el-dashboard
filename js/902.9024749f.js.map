{"version":3,"file":"js/902.9024749f.js","mappings":"ySAQA,MAAMA,GAASC,EAAAA,EAAAA,MAETC,GAAYC,EAAAA,EAAAA,KAAI,GAEhBC,GAAOC,EAAAA,EAAAA,IAAS,CAAC,GAEjBC,EAAa,KACjB,MAAMC,EAAO,uDAEbL,EAAUM,OAAQ,EAElBC,IAAAA,KAAWF,EAAKH,GACbM,MAAMC,IACL,MAAM,MAAEC,EAAF,QAASC,GAAYF,EAASG,KACpCC,SAASC,OAAU,YAAWJ,aAAiB,IAAIK,KAAKJ,MAExDX,EAAUM,OAAQ,GAElBU,EAAAA,EAAAA,IAAe,CACbC,KAAM,UACNC,MAAO,SAGTpB,EAAOqB,KAAK,SAAZ,IAEDC,OAAOC,IACNrB,EAAUM,OAAQ,GAElBU,EAAAA,EAAAA,IAAe,CACbE,MAAO,OACPI,QAASD,EAAMZ,SAASG,KAAKU,QAC7BL,KAAM,SAHR,GAjBJ,E,o0CCbF,MAAMM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://el-dashboard/./src/views/LoginViewV2.vue","webpack://el-dashboard/./src/views/LoginViewV2.vue?99eb"],"sourcesContent":["<script setup>\nimport axios from 'axios';\nimport { ElNotification } from 'element-plus';\n\nimport { ref, reactive } from 'vue';\n\nimport { useRouter } from 'vue-router';\n\nconst router = useRouter();\n\nconst isLoading = ref(false);\n\nconst user = reactive({});\n\nconst submitForm = () => {\n  const url = `${process.env.VUE_APP_API_URL}/admin/signin`;\n\n  isLoading.value = true;\n\n  axios.post(url, user)\n    .then((response) => {\n      const { token, expired } = response.data;\n      document.cookie = `hexToken=${token};expires=${new Date(expired)};`;\n\n      isLoading.value = false;\n\n      ElNotification({\n        type: 'success',\n        title: '登入成功',\n      });\n\n      router.push('/admin');\n    })\n    .catch((error) => {\n      isLoading.value = false;\n\n      ElNotification({\n        title: '登入失敗',\n        message: error.response.data.message,\n        type: 'error',\n      });\n    });\n};\n</script>\n\n<template>\n  <ElContainer>\n    <ElMain>\n      <ElRow justify=\"center\" align=\"middle\" class=\"h-100vh\">\n        <ElCol :md=\"6\" :sm=\"6\">\n          <ElForm\n            ref=\"formRef\"\n            label-position=\"top\"\n            class=\"text-center\"\n            @submit.prevent=\"submitForm(ruleFormRef)\"\n          >\n            <ElImage style=\"width: 100px; height: 100px\" :src=\"require('@/assets/logo.png')\"></ElImage>\n            <ElFormItem label=\"帳號\">\n              <ElInput v-model=\"user.username\" placeholder=\"請輸入帳號\" :disabled=\"isLoading\"></ElInput>\n            </ElFormItem>\n            <ElFormItem label=\"密碼\">\n              <ElInput v-model=\"user.password\" type=\"password\" placeholder=\"請輸入密碼\" show-password :disabled=\"isLoading\"></ElInput>\n            </ElFormItem>\n            <div>\n              <ElButton native-type=\"submit\" type=\"primary\" :loading=\"isLoading\">登入</ElButton>\n            </div>\n          </ElForm>\n        </ElCol>\n      </ElRow>\n    </ElMain>\n  </ElContainer>\n</template>\n\n<style scoped>\n.h-100vh {\n  height: 100vh\n}\n.text-center {\n  text-align: center;\n}\n</style>\n","import script from \"./LoginViewV2.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginViewV2.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginViewV2.vue?vue&type=style&index=0&id=4ea9b26f&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/rayxu/el-dashboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4ea9b26f\"]])\n\nexport default __exports__"],"names":["router","useRouter","isLoading","ref","user","reactive","submitForm","url","value","axios","then","response","token","expired","data","document","cookie","Date","ElNotification","type","title","push","catch","error","message","__exports__"],"sourceRoot":""}