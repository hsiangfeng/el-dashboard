{"version":3,"file":"js/733.408ea59c.js","mappings":"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","sources":["webpack://el-dashboard/./src/components/DeleteModal.vue","webpack://el-dashboard/./src/components/DeleteModal.vue?3ed7","webpack://el-dashboard/./src/views/admin/OrdersView.vue","webpack://el-dashboard/./src/views/admin/OrdersView.vue?4cb2"],"sourcesContent":["<template>\n  <ElDialog\n    v-model=\"dialogVisible\"\n    title=\"刪除\"\n    :width=\"'50%'\"\n  >\n    <h3>你確定要刪除 {{ data.title || data.id }}(刪除後將無法恢復)。</h3>\n    <template #footer>\n      <ElButton type=\"info\" @click=\"dialogVisible = false\" plain>取消</ElButton>\n      <ElButton type=\"danger\" @click=\"onClick\" plain>刪除</ElButton>\n    </template>\n  </ElDialog>\n</template>\n\n<script>\nexport default {\n  props: ['data'],\n  emits: ['delete'],\n  data() {\n    return {\n      dialogVisible: false,\n    };\n  },\n  methods: {\n    onClick() {\n      this.$emit('delete', this.data.id);\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import { render } from \"./DeleteModal.vue?vue&type=template&id=88556b06\"\nimport script from \"./DeleteModal.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/rayxu/el-dashboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <h3>訂單列表</h3>\n  <ElTable :data=\"orders\" stripe style=\"width: 100%\" v-loading=\"isLoading\">\n    <ElTableColumn prop=\"id\" label=\"訂單編號\" width=\"100\"/>\n    <ElTableColumn prop=\"create_at\" label=\"購買時間\" width=\"100\">\n      <template #default=\"scope\">\n        {{ $filters.date(scope.row.create_at) }}\n      </template>\n    </ElTableColumn>\n    <ElTableColumn prop=\"user.email\" label=\"Email\" width=\"150\"/>\n    <ElTableColumn prop=\"products\" label=\"購買款項\">\n      <template #default=\"scope\">\n        <ul class=\"list-unstyled p-0\">\n          <li v-for=\"(product, i) in scope.row.products\" :key=\"i\">\n            {{ product.product.title }} x {{ product.qty }} {{ product.product.unit }}\n          </li>\n        </ul>\n      </template>\n    </ElTableColumn>\n    <ElTableColumn prop=\"total\" label=\"應付金額\" width=\"150\">\n      <template #default=\"scope\">\n         {{ $filters.currency( scope.row.total) }}\n      </template>\n    </ElTableColumn>\n    <ElTableColumn prop=\"is_paid\" label=\"是否付款\" width=\"100\">\n      <template #default=\"scope\">\n        <ElTag :type=\"scope.row.is_paid ? 'success' : 'info'\">\n          {{ scope.row.is_paid ? '已付款' : '未付款' }}\n        </ElTag>\n      </template>\n    </ElTableColumn>\n    <ElTableColumn label=\"功能\" align=\"center\" width=\"150\">\n      <template #default=\"scope\">\n        <ElButton type=\"success\" size=\"small\" @click=\"checkOrder(scope.row.id)\">付款</ElButton>\n        <ElButton type=\"danger\" size=\"small\" @click=\"openDeleteModal(scope.row)\">刪除</ElButton>\n      </template>\n    </ElTableColumn>\n  </ElTable>\n  <DeleteModal ref=\"DeleteModalRef\" :data=\"order\" @delete=\"deleteOrder\" />\n</template>\n\n<script>\nimport DeleteModal from '@/components/DeleteModal.vue';\n\nexport default {\n  data() {\n    return {\n      orders: [],\n      order: [],\n      isLoading: false,\n    };\n  },\n  components: {\n    DeleteModal,\n  },\n  methods: {\n    getOrders() {\n      const url = `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/admin/orders`;\n      this.isLoading = true;\n      this.$http.get(url)\n        .then((response) => {\n          this.orders = response.data.orders;\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$notify({\n            title: '錯誤訊息',\n            message: error.response.data.message,\n            type: 'error',\n          });\n        });\n    },\n    openDeleteModal(item) {\n      this.order = item;\n      this.$refs.DeleteModalRef.dialogVisible = true;\n    },\n    deleteOrder(id) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API_URL}/api/${process.env.VUE_APP_API_PATH}/admin/order/${id}`;\n      this.$http.delete(url)\n        .then(() => {\n          this.isLoading = false;\n          this.$notify({\n            title: '刪除訂單',\n            message: '執行成功！',\n            type: 'success',\n          });\n          this.$refs.DeleteModalRef.dialogVisible = false;\n          this.getOrders(this.currentPage);\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$notify({\n            title: '錯誤訊息',\n            message: error.response.data.message,\n            type: 'error',\n          });\n        });\n    },\n    checkOrder(id) {\n      this.$router.push(`/admin/user-checkout/${id}`);\n    },\n  },\n  mounted() {\n    this.getOrders();\n  },\n};\n</script>\n\n<style>\n.p-0 {\n  padding: 0px;\n}\n\n.list-unstyled {\n  list-style: none\n}\n</style>\n","import { render } from \"./OrdersView.vue?vue&type=template&id=37210d78\"\nimport script from \"./OrdersView.vue?vue&type=script&lang=js\"\nexport * from \"./OrdersView.vue?vue&type=script&lang=js\"\n\nimport \"./OrdersView.vue?vue&type=style&index=0&id=37210d78&lang=css\"\n\nimport exportComponent from \"/Users/rayxu/el-dashboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_ElDialog","$data","$event","title","width","footer","_createVNode","_component_ElButton","type","onClick","plain","$options","_createElementVNode","_toDisplayString","$props","id","props","emits","data","dialogVisible","methods","this","$emit","__exports__","render","class","_hoisted_1","_component_ElTable","stripe","style","_component_ElTableColumn","prop","label","default","scope","_ctx","date","row","create_at","_createElementBlock","_Fragment","_renderList","products","product","i","key","qty","unit","currency","total","_component_ElTag","is_paid","align","size","_component_DeleteModal","ref","onDelete","orders","order","isLoading","components","DeleteModal","getOrders","url","$http","get","then","response","catch","error","$notify","message","openDeleteModal","item","$refs","DeleteModalRef","deleteOrder","delete","currentPage","checkOrder","$router","push","mounted"],"sourceRoot":""}